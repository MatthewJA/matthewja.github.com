<!DOCTYPE html>
<html>
<head>
    <title>Spirals</title>
    <style type="text/css">
        html, body {
            padding: 0;
            margin: 0;
            width: 100%;
            text-align: center;
        }
    </style>
</head>
<body>
    <canvas id="canvas"
                width="500px"
                height="500px"
                style="margin: 0 auto;">
        </canvas>

    <script type="text/javascript">
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");

        Star = function(x, y, c, w) {
            this.x = x;
            this.y = y;
            this.c = c;
            this.w = w;
        }
        stars = [];
        for (var r = 0; r < 200; r += 2) {
            for (var t = 0; t < 2 * Math.PI; t += Math.PI/25) {
                var x = r*Math.cos(t);
                var y = r*Math.sin(t)*0.9;
                var c = t == 0 ? "#FF0000" : "#000000";
                var w = t == 0 ? 1 : 1;
                stars.push(new Star(x, y, c, w));
            }
        }

        step = function() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (var i = 0; i < stars.length; i++) {
                var star = stars[i];

                ctx.fillStyle = star.c;

                // find angle and radius of star
                var r = Math.hypot(star.x, star.y);
                var t = Math.atan2(star.y, star.x);
                t += Math.PI/20/Math.sqrt(r);
                star.x = r*Math.cos(t);
                star.y = r*Math.sin(t);

                ctx.fillRect(star.x+canvas.width/2, star.y+canvas.width/2, star.w, star.w);
            }
            setTimeout(step, 10);
        };

        step()
    </script>
</body>
</html>